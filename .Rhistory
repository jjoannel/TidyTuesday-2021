height = 4, width = 5, units = "in", res=150)
anim1
anim1 <- animate(a1,
nframes = 55, end_pause = 10,
fps=10,
height = 4, width = 4, units = "in", res=150)
anim1
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend=max(year)+14, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "Bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(size = 4.5, alpha = 1, aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend=max(year)+14, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "Bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend=max(year)+14, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= 2013, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1, show.legend=FALSE) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1, show.legend=NA) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1, show.legend= FALSE) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1, show.legend= FALSE) +
guides(color = guide_legend(override.aes = list(size = 3) ) ) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1, show.legend= FALSE) +
guides(shape = guide_legend(override.aes = list(shape=16) ) ) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types, shape=types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(mapping = (aes(color= types, label= types)), hjust=-1, show.legend= FALSE) +
guides(shape = guide_legend(override.aes = list(shape=16))) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(aes(color= types, label= types), hjust=-1, show.legend= FALSE)
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(aes(color= types, label= types), hjust=-1, show.legend = FALSE)
br %>% mutate(types = ifelse(types %in% c("pasture", "small_scale_clearing"), c("Pasture", "Small scale clearing")))
br %>% mutate(types = ifelse(types1 %in% c("pasture", "small_scale_clearing"), c("Pasture", "Small scale clearing")))
br %>% mutate(types1 = ifelse(types %in% c("pasture", "small_scale_clearing"), c("Pasture", "Small scale clearing")))
br %>% mutate(types1 = ifelse(types %in% c("pasture", "small_scale_clearing"), c("Pasture", "Small scale clearing")))
br %>% mutate(types1 = replace(types, types == "pasture", "Pasture"))
x <- br %>% mutate(types1 = replace(types, types == "pasture", "Pasture"))
View(x)
x <- br %>% mutate(types = replace(types, types ==
c("pasture", "small_scale_clearing"),
c("Pasture", "Small scale clearing")))
View(x)
x <- br %>% mutate(types = replace(types, types == "pasture", "Pasture"),
types = replace(types, types == "small_scale_clearing", "Small scale clearing"))
View(x)
x <- br %>% mutate(types = replace(types, types == "pasture", "Pasture"),
types = replace(types, types == "small_scale_clearing", "Small scale clearing"),
types = replace(types, types =="commercial_crops", "Commercial crops"),
types = replace(types, types =="fire", "Fire"),
types = replace(types, types =="selective_logging", "Selective Logging"),
types = replace(types, types =="tree_plantations_including_palm","Tree plantations"),
types = replace(types, types =="natural_disturbances", "Natural Disturbances"),
types = replace(types, types =="roads", "Roads"),
types = replace(types, types =="flooding_due_to_dams", "Flooding due to dams"),
types = replace(types, types =="other_infrastructure", "Other Infrastructure"),
types = replace(types, types =="mining","Mining"))
View(x)
br <-
brazil_loss %>%
pivot_longer(4:14, names_to = "types", values_to = "loss") %>%
mutate(types = replace(types, types == "pasture", "Pasture"),
types = replace(types, types == "small_scale_clearing", "Small scale clearing"),
types = replace(types, types =="commercial_crops", "Commercial crops"),
types = replace(types, types =="fire", "Fire"),
types = replace(types, types =="selective_logging", "Selective Logging"),
types = replace(types, types =="tree_plantations_including_palm","Tree plantations"),
types = replace(types, types =="natural_disturbances", "Natural Disturbances"),
types = replace(types, types =="roads", "Roads"),
types = replace(types, types =="flooding_due_to_dams", "Flooding due to dams"),
types = replace(types, types =="other_infrastructure", "Other Infrastructure"),
types = replace(types, types =="mining","Mining"))
View(br)
br %>%
group_by(types) %>%
summarise(total_loss = sum(loss)) %>%
arrange(-total_loss)
br1 <- br %>%
group_by(types,year) %>%
summarise(total_loss = round(sum(loss),0)) %>%
arrange(types, year, -total_loss)
p1 <- br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(aes(color= types, label= types), hjust=-1, show.legend = FALSE) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "bottom")
a1 <- p1 + transition_reveal(year) + shadow_mark()
anim1 <- animate(a1,
nframes = 55, end_pause = 10,
fps=10,
height = 4, width = 4, units = "in", res=150)
anim1
br1 %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = lab.ypos, label = prop), color = "white")+
scale_fill_manual(values = mycols) +
theme_void()+
xlim(0.5, 2.5)
br1 %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = lab.ypos, label = prop), color = "white")+
scale_fill_manual(values = types) +
theme_void()+
xlim(0.5, 2.5)
br1 %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = lab.ypos, label = prop), color = "white")+
theme_void()+
xlim(0.5, 2.5)
br1 %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = types), color = "white")
br1 %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = total_loss), color = "white")
br1 %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss), color = "white")
br1 %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = year), color = "white")
br1 %>% ggplot(aes(x = year, y = types, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = year), color = "white")
br1 %>% filter(year==2013) %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = year), color = "white")
br1 %>% filter(year==2013) %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = year), color = "white") +
scale_fill_manual(values = types)
br1 %>% filter(year==2013) %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = year), color = "white") +
scale_fill_manual(values = total_loss) +
theme_void()+
br1 %>% filter(year==2013) %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = year), color = "white") +
scale_fill_manual(values = total_loss) +
theme_void()+
xlim(0.5, 2.5)
br1 %>% filter(year==2013) %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = year), color = "white") +
scale_fill_manual(values = total_loss) +
theme_void()+
xlim(0.5, 2.5)
br1 %>% filter(year==2013) %>% ggplot(aes(x = year, y = total_loss, fill = types)) +
geom_bar(stat = "identity", color = "white") +
coord_polar(theta = "y", start = 0)+
geom_text(aes(y = total_loss, label = year), color = "white")
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal()
pie = ggplot(df, aes(x="", y=share, fill=brand)) + geom_bar(stat="identity", width=1)
br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal()
View(forest_area)
View(brazil_loss)
View(forest)
View(brazil_loss)
View(forest)
View(br1)
View(vegetable_oil)
#Explore data
br <-
brazil_loss %>%
pivot_longer(4:14, names_to = "types", values_to = "loss") %>%
mutate(types = replace(types, types == "pasture", "Pasture"),
types = replace(types, types == "small_scale_clearing", "Small scale clearing"),
types = replace(types, types =="commercial_crops", "Commercial crops"),
types = replace(types, types =="fire", "Fire"),
types = replace(types, types =="selective_logging", "Selective Logging"),
types = replace(types, types =="tree_plantations_including_palm","Tree plantations"),
types = replace(types, types =="natural_disturbances", "Natural Disturbances"),
types = replace(types, types =="roads", "Roads"),
types = replace(types, types =="flooding_due_to_dams", "Flooding due to dams"),
types = replace(types, types =="other_infrastructure", "Other Infrastructure"),
types = replace(types, types =="mining","Mining"))
#Summarize
br %>%
group_by(types) %>%
summarise(total_loss = sum(loss)) %>%
arrange(-total_loss)
br1 <- br %>%
group_by(types,year) %>%
summarise(total_loss = round(sum(loss),0)) %>%
arrange(types, year, -total_loss)
#Plot: Animated chart
p1 <- br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
geom_segment(mapping = aes(x=year, xend= max(year)+1, y=total_loss, yend=total_loss), linetype=2) +
geom_label(aes(label=total_loss)) +
geom_text(aes(color= types, label= types), hjust=-1, show.legend = FALSE) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal() +
theme(legend.position = "none")
a1 <- p1 + transition_reveal(year) + shadow_mark()
anim <- animate(a1,
nframes = 55, end_pause = 10,
fps=10,
height = 4, width = 4, units = "in", res=150)
anim
anim_save("2021-04-06 deforest.gif", animation = last_animation())
#Plot: Normal ggplot
p2 <- br1 %>%
ggplot(aes(x= year, y = total_loss, color = types)) +
geom_point(aes(colour= types)) +
geom_line(aes(colour= types)) +
scale_y_continuous(name="Hectares of Forest Lost", labels = scales::label_number_si(), limits=c(0,3000000)) +
labs(x = NULL,
y = "Hectares of Forest Lost",
title = "Deforestation in Brazil 2001 - 2013\n",
caption = "Source: Our World In Data | By @jjoannel") +
theme_minimal()
ggsave("2021-04-06 deforest2.png")
d_clean %>% ggplot(aes(x= fyear_gone, y=d_code)) +
geom_col(show.legend = FALSE) +
facet_wrap(~d_type)
# Load libraries ------------------------------
library(tidytuesdayR)
library(tidyverse)
library(tidytext)
library(syuzhet)
tuesdata <- tidytuesdayR::tt_load(2021, week = 18)
departures <- tuesdata$departures
rm(tuesdata)
sentiments <- get_nrc_sentiment(departures$notes)
#Combine NRC sentiments with Departure data
departures <- bind_cols(departures, sentiments)
departures <- departures %>%
mutate(d_code = case_when(
departure_code == 1 ~ "Death",
departure_code == 2 ~ "Illness",
departure_code == 3 ~ "Performance",
departure_code == 4 ~ "Violations",
departure_code == 5 ~ "Retirement",
departure_code == 6 ~ "New Opportunity",
departure_code == 7 ~ "Other", #(M&A, closure, interim ceo)
departure_code == 8 ~ "Missing",
departure_code == 9 ~ "Error",
is.na(departure_code) ~ "No Info",
TRUE ~ as.character(departure_code)
)
) %>%
filter(!d_code %in% c("Missing", "Error", "No Info")) #This is about 17% of data removed
departures <- departures %>% mutate(
d_type = case_when(
departure_code == 1 ~ "Involuntary",
departure_code == 2 ~ "Involuntary",
departure_code == 3 ~ "Involuntary",
departure_code == 4 ~ "Involuntary",
departure_code == 5 ~ "Voluntary",
departure_code == 6 ~ "Voluntary",
departure_code == 7 ~ "Other",
departure_code == 8 ~ "Missing",
departure_code == 9 ~ "Error",
is.na(departure_code) ~ "No Info",
TRUE ~ as.character(departure_code)
))
d_clean <- departures %>%
filter(between(fyear_gone, 1990, 2021)) %>%
select(coname, exec_fullname, fyear_gone, leftofc, anger:d_type) %>%
mutate(leftofc_q = as.yearqtr(leftofc, format = "%Y-%m-%d"))
View(departures)
d_clean <- departures %>%
filter(between(fyear_gone, 1990, 2021)) %>%
select(coname, exec_fullname, fyear_gone, leftofc, anger:d_type)
View(d_clean)
library(zoo)
d_clean <- departures %>%
filter(between(fyear_gone, 1990, 2021)) %>%
select(coname, exec_fullname, fyear_gone, leftofc, anger:d_type) %>%
mutate(leftofc_q = as.yearqtr(leftofc, format = "%Y-%m-%d"))
d_clean %>%
group_by(d_code) %>%
summarize(count= n())
d_clean %>%
group_by(d_code, d_type, fyear_gone) %>%
summarize(count= n()) %>%
ggplot(aes( x = fyear_gone, y = d_type, fill = d_code) ) + geom_bar(position = "stack", stat = "identity") +
labs(x = NULL,
y = " ",
title = "CEO Departures in S&P 1500 in 1990 - 2021\n",
caption = "Source: Gentry et al. & DataIsPlural | By @jjoannel") +
theme_minimal()
d_clean %>%
group_by(d_code, d_type, fyear_gone) %>%
summarize(count= n()) %>%
ggplot(aes( x = fyear_gone, y = d_code, fill = d_type) ) + geom_bar(position = "stack", stat = "identity") +
labs(x = NULL,
y = " ",
title = "CEO Departures in S&P 1500 in 1990 - 2021\n",
caption = "Source: Gentry et al. & DataIsPlural | By @jjoannel") +
theme_minimal()
d_clean %>%
group_by(d_code, d_type, fyear_gone) %>%
summarize(count= n()) %>%
ggplot(aes( x = fyear_gone, y = d_code, fill = d_code) ) + geom_bar(position = "stack", stat = "identity") +
labs(x = NULL,
y = " ",
title = "CEO Departures in S&P 1500 in 1990 - 2021\n",
caption = "Source: Gentry et al. & DataIsPlural | By @jjoannel") +
theme_minimal()
d_clean %>% ggplot(aes(x=fyear_gone, y=d_code))
d_clean %>% ggplot(aes(x=fyear_gone, y=d_code)) +geom_line()
d_clean %>%
group_by(d_code) %>%
summarize(count= n())
d_clean %>%
group_by(d_code, d_type, fyear_gone) %>%
summarize(count= n()) %>%
ggplot(aes( x = fyear_gone, y = d_code, fill = d_code) ) + geom_bar(position = "stack", stat = "identity") +
labs(x = NULL,
y = " ",
title = "CEO Departures in S&P 1500 in 1990 - 2021\n",
caption = "Source: Gentry et al. & DataIsPlural | By @jjoannel") +
theme_minimal()
d_clean %>%
group_by(d_code, d_type, fyear_gone) %>%
summarize(count= n()) %>%
ggplot(aes( x = fyear_gone, y = d_code, fill = d_type) ) + geom_bar(position = "stack", stat = "identity") +
labs(x = NULL,
y = " ",
title = "CEO Departures in S&P 1500 in 1990 - 2021\n",
caption = "Source: Gentry et al. & DataIsPlural | By @jjoannel") +
theme_minimal()
d_clean %>%
group_by(d_code, d_type, fyear_gone) %>%
summarize(count= n()) %>%
ggplot(aes( x = count, y = d_code, fill = d_type) ) + geom_bar(position = "stack", stat = "identity") +
labs(x = NULL,
y = " ",
title = "CEO Departures in S&P 1500 in 1990 - 2021\n",
caption = "Source: Gentry et al. & DataIsPlural | By @jjoannel") +
theme_minimal()
